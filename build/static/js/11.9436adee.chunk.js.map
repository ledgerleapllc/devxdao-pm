{"version":3,"sources":["shared/core/patterns.js","assets/icons/ic-checkbox.svg","pages/Feature/Settings/components/dialogs/ChangePasswordDialog/index.js","pages/Feature/Settings/index.js"],"names":["EMAIL_PATTERN","PASSWORD_PATTERN","RegExp","source","_path","_excluded","_extends","Object","assign","target","i","arguments","length","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIcCheckbox","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","fill","d","transform","ForwardRef","schema","yup","shape","current_password","required","new_password","matches","confirm_password","oneOf","ChangePasswordDialog","close","dispatch","useDispatch","useState","loading","setLoading","useForm","mode","resolver","yupResolver","formState","register","handleSubmit","watchAllFields","watch","Header","Body","className","onSubmit","data","changePassword","type","placeholder","errors","message","isLoading","color","disabled","isValid","onClick","Settings","openDialog","useDialog","openSnack","useSnackBar","forceReload","result","size","afterClosed"],"mappings":"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","file":"static/js/11.9436adee.chunk.js","sourcesContent":["/* eslint-disable */\n\nexport const NAME_PATTERN = /^[\\.a-zA-Z\\s ]*$/;\nexport const EMAIL_PATTERN =\n  /^[_A-Za-z0-9-+]+(\\.[_A-Za-z0-9-+]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9-]+)*(\\.[A-Za-z‌​]{2,})$/;\nexport const SPECIAL_CHARACTER_PATTERN =\n  /(?=.*?[\\!\\\"\\-\\@\\#\\$\\%\\&\\*\\(\\)\\'\\^\\`\\.\\,\\/\\:\\;\\_\\+\\=\\<\\>\\?\\{\\}\\[\\\\\\]])/;\nexport const DIGITIZED_PATTERN = /(?=.*?[0-9])/;\nexport const NUMBER_PATTERN = /(^[0-9])/;\nexport const NEGATIVE_NUMBER_PATTERN = /^-?[1-9]/;\nexport const CHARACTER_PATTERN = /(?=.*?[a-zA-Z])/;\nexport const FORUM_PATTERN = /^[A-Za-z0-9-]*$/;\nexport const USERNAME_PATTERN = /^[A-Za-z0-9-]*$/;\nexport const TELEGRAM_PATTERN = /(^)@[A-Za-z0-9-\\_]*$/;\nexport const ENTITY_PATTERN = /^[A-Za-z0-9-\\s\\.\\_ ]*$/;\nexport const PASSWORD_PATTERN = new RegExp(\n  `${CHARACTER_PATTERN.source}${DIGITIZED_PATTERN.source}${SPECIAL_CHARACTER_PATTERN.source}`\n);\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIcCheckbox(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16.091 11.999\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M5.465,16.341.236,11.111a.8.8,0,0,1,0-1.138L1.373,8.836a.8.8,0,0,1,1.138,0l3.523,3.523L13.58,4.813a.8.8,0,0,1,1.138,0l1.138,1.138a.8.8,0,0,1,0,1.138L6.6,16.341A.8.8,0,0,1,5.465,16.341Z\",\n    transform: \"translate(0 -4.577)\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcCheckbox);\nexport default __webpack_public_path__ + \"static/media/ic-checkbox.9b260df2.svg\";\nexport { ForwardRef as ReactComponent };","import { Button, Dialog } from '@shared/partials';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { PASSWORD_PATTERN } from '@shared/core/patterns';\nimport { useDispatch } from \"react-redux\";\nimport { useState } from 'react';\nimport { changePassword } from '@stores/auth/actions';\nimport { ReactComponent as IconCheckbox } from '@assets/icons/ic-checkbox.svg';\n\nconst schema = yup.object().shape({\n  current_password: yup\n    .string()\n    .required('Current Password is required'),\n  new_password: yup\n    .string()\n    .required('New Password is required')\n    .matches(\n      PASSWORD_PATTERN,\n      \"New Password is invalid\"\n    ),\n  confirm_password: yup\n    .string()\n    .required('Confirm Password is required')\n    .oneOf([yup.ref('new_password'), null], 'Password not match'),\n});\n\nexport const ChangePasswordDialog = ({ close }) => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState();\n  const {\n    formState,\n    register,\n    handleSubmit,\n    watch,\n  } = useForm({\n    mode: 'onChange',\n    resolver: yupResolver(schema),\n  });\n  const watchAllFields = watch(); \n\n  const onSubmit = (data) => {\n    setLoading(true);\n    dispatch(changePassword(\n      data,\n      () => {\n        setLoading(false);\n        close(true);\n      },\n      () => {\n        setLoading(false);\n      },\n    ))\n  }\n\n  return (\n    <Dialog>\n      <Dialog.Header>\n        Change Password\n      </Dialog.Header>\n      <Dialog.Body>\n        <form className=\"text-center\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"form-control\">\n            <div className=\"relative w-full\">\n              <input className=\"w-full\" type=\"password\" placeholder=\"Current Password\" {...register('current_password')} />\n              {!formState.errors?.current_password && watchAllFields.current_password && <IconCheckbox className=\"absolute top-1/2 transform -translate-y-1/2 right-0 text-primary\" />}\n            </div>\n            {formState.errors?.current_password && (\n              <p className=\"form-error\">\n                {formState.errors.current_password?.message}\n              </p>\n            )}\n          </div>\n          <div className=\"form-control\">\n            <div className=\"relative w-full\">\n              <input className=\"w-full\" type=\"password\" placeholder=\"New Password\" {...register('new_password')} />\n              {!formState.errors?.new_password && watchAllFields.new_password && <IconCheckbox className=\"absolute top-1/2 transform -translate-y-1/2 right-0 text-primary\" />}\n            </div>\n            {formState.errors?.new_password && (\n              <p className=\"form-error\">\n                {formState.errors.new_password?.message}\n              </p>\n            )}\n          </div>\n          <div className=\"form-control\">\n            <div className=\"relative w-full\">\n              <input className=\"w-full\" type=\"password\" placeholder=\"Confirm New Password\" {...register('confirm_password')} />\n              {!formState.errors?.confirm_password && watchAllFields.confirm_password && <IconCheckbox className=\"absolute top-1/2 transform -translate-y-1/2 right-0 text-primary\" />}\n            </div>\n            {formState.errors?.confirm_password && (\n              <p className=\"form-error\">\n                {formState.errors.confirm_password?.message}\n              </p>\n            )}\n          </div>\n          <div>\n            <Button type=\"submit\" isLoading={loading} className=\"mx-auto block !w-3/5 mb-2.5 px-6\" color=\"primary\" disabled={!formState.isValid || loading}>Update Password</Button>\n            <button type=\"button\" className=\"mx-auto block text-xs underline\" onClick={() => close(false)}>Cancel & Go Back</button>\n          </div>\n        </form>\n      </Dialog.Body>\n    </Dialog>\n  )\n}\n","import { Card, CardHeader, CardBody, Button, useSnackBar } from '@shared/partials';\nimport { ChangePasswordDialog } from './components/dialogs/ChangePasswordDialog';\nimport { useDialog } from '../../../shared/partials/dialog/Provider';\n\nconst Settings = () => {\n  const { openDialog } = useDialog();\n  const { openSnack } = useSnackBar();\n\n  const openChangePWDialog = () => {\n    openDialog(\n      <ChangePasswordDialog afterClosed={(result) => forceReload(result)} />\n    );\n  }\n\n  const forceReload = (result) => {\n    if (result) {\n      openSnack('primary', 'Your password has successfully been updated!');\n    }\n  }\n\n  return (\n    <Card className=\"h-full flex-1 min-h-0\">\n      <CardHeader>\n        <div className=\"w-full flex justify-between\">\n          <h2>Settings</h2>\n        </div>\n      </CardHeader>\n      <CardBody>\n        <div data-aos=\"fade-up\" data-aos-duration=\"800\">\n          <h6 className=\"pb-4\">Update Password</h6>\n          <Button size=\"sm\" className=\"!w-1\" color=\"primary\" onClick={() => openChangePWDialog()}>Start</Button>\n        </div>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default Settings;"],"sourceRoot":""}