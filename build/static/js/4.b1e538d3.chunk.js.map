{"version":3,"sources":["../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/typeof.js","../../src/utils.js","../../src/MessageChannel/methods/broadcastChannel.js","../../src/MessageChannel/ObliviousSet.js","../../src/MessageChannel/methods/localStorage.js","../../src/MessageChannel/methods/simulate.js","../../src/MessageChannel/methodChooser.js","../../src/MessageChannel/MessageChannel.js","../../src/MessageChannel/leaderElection.js","../../src/TabManager.js","../../src/IdleTimer.js","../../src/useIdleTimer.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/date-fns/esm/toDate/index.js","../node_modules/date-fns/esm/isValid/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../node_modules/date-fns/esm/locale/en-US/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/date-fns/esm/addMilliseconds/index.js","../node_modules/date-fns/esm/subMilliseconds/index.js","../node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../node_modules/date-fns/esm/_lib/format/formatters/index.js","../node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/_lib/protectedTokens/index.js","../node_modules/date-fns/esm/format/index.js"],"names":["module","exports","self","ReferenceError","__esModule","_typeof","obj","Symbol","iterator","constructor","prototype","IS_BROWSER","window","DEFAULT_ELEMENT","document","DEFAULT_EVENTS","debounced","fn","delay","timerId","result","args","clearTimeout","setTimeout","cancel","throttled","lastCall","now","Date","getTime","lastMs","additional","microSeconds","ms","randomToken","Math","random","toString","substring","sleep","time","Promise","resolve","create","channelName","state","messagesCallback","bc","BroadcastChannel","onmessage","msg","data","close","channelState","onMessage","postMessage","messageJson","err","reject","canBeUsed","type","averageResponseTime","ObliviousSet","ttl","set","Set","timeMap","Map","value","this","has","add","_removeTooOldValues","clear","olderThen","next","get","getLocalStorage","localStorage","e","addStorageEventListener","key","listener","ev","JSON","parse","newValue","addEventListener","ls","setItem","removeItem","options","Error","uuid","eMIs","removeTimeout","msgObj","token","messagesCallbackTime","removeEventListener","writeObj","stringify","createEvent","initEvent","dispatchEvent","userAgent","navigator","toLowerCase","includes","defaultTime","SIMULATE_CHANNELS","name","Array","from","filter","channel","forEach","METHODS","BroadcastChannelMethod","LocalStorageMethod","chooseMethod","SimulateMethod","method","find","m","useMethod","map","MessageChannel","closed","_isListening","_onMessageListener","_addEventListeners","message","internal","_unSendMessagePromises","_beforeClose","_preparePromises","_prepareChannel","_post","listenObj","_removeListenerObject","_addListenerObject","awaitPrepare","then","all","_this","_state","messageChannel","sendPromise","maybePromise","s","_hasMessageListeners","length","push","listenerFn","o","LeaderElection","_channel","_options","isLeader","isDead","_isApplying","_reApply","_unloadFns","_listeners","_intervals","_duplicateListeners","_duplicateCalled","_onBeforeDie","a","unloadFn","die","stopCriteria","handleMessage","context","_this2","action","_sendMessage","responseTime","leaderElector","isLeaderListener","success","applyOnce","_awaitLeadershipPromise","resolved","finish","clearInterval","interval","whenDeathListener","setInterval","fallbackInterval","onBeforeDie","_this3","uFn","msgJson","postInternal","TabManager","emitOnAllTabs","callbacks","start","reset","pause","resume","elector","_leaderElector","registry","leader","allIdle","awaitLeadership","id","idle","active","onIdle","onActive","isIdle","Object","values","every","v","send","isActive","some","onDuplicate","isAllIdle","setAllIdle","bool","IdleTimer","Component","props","oldDate","lastActive","lastIdle","idleTime","remaining","pageX","pageY","tId","eventsBound","callbackRefs","debounce","throttle","_onAction","onAction","eventsThrottle","handleEvent","_handleEvent","bind","startOnMount","startManually","_toggleIdleState","getRemainingTime","getElapsedTime","getLastActiveTime","getLastIdleTime","getTotalIdleTime","getTotalActiveTime","_setupTabManager","_bindEvents","prevProps","_unbindEvents","timeout","manager","console","error","children","crossTab","assign","element","events","passive","capture","force","setState","prevState","_this4","stopOnIdle","elapsedTimeSinceLastActive","remote","timeLeft","useIdleTimer","useRef","firstLoad","_timeout","emitOnIdle","emitOnActive","emitOnAction","useEffect","current","intermediateOnAction","useMemo","callOnAction","nextIdle","eventsWereBound","propTypes","PropTypes","number","arrayOf","string","func","oneOfType","object","shape","oneOf","defaultProps","instance","Constructor","TypeError","_defineProperties","target","i","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","setPrototypeOf","subClass","superClass","_setPrototypeOf","p","__proto__","assertThisInitialized","call","_getPrototypeOf","getPrototypeOf","asyncGeneratorStep","gen","_next","_throw","arg","info","done","arguments","apply","undefined","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","isArray","_i","_s","_e","_arr","_n","_d","arrayLikeToArray","minLen","n","slice","test","len","arr2","requiredArgs","required","toDate","argument","argStr","warn","stack","NaN","isValid","dirtyDate","date","isNaN","formatDistanceLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","buildFormatLongFn","width","String","defaultWidth","format","formats","formatLong","full","long","medium","short","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","buildLocalizeFn","dirtyIndex","dirtyOptions","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","argumentCallback","buildMatchFn","matchPattern","matchPatterns","defaultMatchWidth","matchResult","match","matchedString","parsePatterns","defaultParseWidth","findIndex","pattern","findKey","valueCallback","rest","predicate","hasOwnProperty","array","locale","code","formatDistance","count","replace","addSuffix","comparison","formatRelative","_date","_baseDate","localize","ordinalNumber","dirtyNumber","_dirtyOptions","Number","rem100","era","narrow","abbreviated","wide","quarter","month","day","dayPeriod","am","pm","midnight","noon","morning","afternoon","evening","night","parsePattern","parseInt","parseResult","any","index","weekStartsOn","firstWeekContainsDate","toInteger","ceil","floor","addMilliseconds","dirtyAmount","timestamp","amount","subMilliseconds","addLeadingZeros","targetLength","sign","output","abs","formatters","y","signedYear","getUTCFullYear","year","M","getUTCMonth","d","getUTCDate","dayPeriodEnumValue","getUTCHours","toUpperCase","h","H","getUTCMinutes","getUTCSeconds","S","numberOfDigits","milliseconds","getUTCMilliseconds","pow","MILLISECONDS_IN_DAY","startOfUTCISOWeek","getUTCDay","diff","setUTCDate","setUTCHours","getUTCISOWeekYear","fourthOfJanuaryOfNextYear","setUTCFullYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK","startOfUTCWeek","localeWeekStartsOn","defaultWeekStartsOn","RangeError","getUTCWeekYear","localeFirstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","dayPeriodEnum","formatTimezoneShort","offset","dirtyDelimiter","absOffset","hours","minutes","delimiter","formatTimezoneWithOptionalMinutes","formatTimezone","G","unit","lightFormatters","Y","signedWeekYear","weekYear","R","u","Q","q","L","w","week","round","getUTCWeek","I","isoWeek","getUTCISOWeek","D","dayOfYear","setUTCMonth","startOfYearTimestamp","difference","getUTCDayOfYear","E","dayOfWeek","localDayOfWeek","c","isoDayOfWeek","b","B","K","k","X","_localize","timezoneOffset","_originalDate","getTimezoneOffset","x","O","z","t","originalDate","T","dateLongFormatter","timeLongFormatter","longFormatters","P","dateTimeFormat","datePattern","timePattern","getTimezoneOffsetInMilliseconds","utcDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","indexOf","isProtectedWeekYearToken","throwProtectedError","input","concat","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","formatStr","defaultLocale","formatterOptions","firstCharacter","longFormatter","join","cleanEscapedString","formatter","useAdditionalWeekYearTokens","useAdditionalDayOfYearTokens"],"mappings":"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","file":"static/js/4.b1e538d3.chunk.js","sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Determine if we are in a browser\n * or a server environment\n * @type {Boolean}\n * @private\n */\nexport const IS_BROWSER =\n  (typeof window === 'undefined' ? 'undefined' : typeof window) === 'object'\n\n/**\n * Default element to listen for events on\n * @type {Object}\n * @private\n */\nexport const DEFAULT_ELEMENT = IS_BROWSER ? document : {}\n\n/**\n * The default events to determine activity\n * @type {Array}\n * @private\n */\nexport const DEFAULT_EVENTS = [\n  'mousemove',\n  'keydown',\n  'wheel',\n  'DOMMouseScroll',\n  'mousewheel',\n  'mousedown',\n  'touchstart',\n  'touchmove',\n  'MSPointerDown',\n  'MSPointerMove',\n  'visibilitychange'\n]\n\n/**\n * Creates a debounced function that delays invoking func until\n * after delay milliseconds has elapsed since the last time the\n * debounced function was invoked.\n * @name debounced\n * @param  {Function} fn   Function to debounce\n * @param  {Number} delay  How long to wait\n * @return {Function}      Executed Function\n * @private\n **/\nexport function debounced (fn, delay) {\n  let timerId\n  function result (...args) {\n    if (timerId) {\n      clearTimeout(timerId)\n    }\n    timerId = setTimeout(() => {\n      fn(...args)\n      timerId = null\n    }, delay)\n  }\n\n  result.cancel = function () {\n    clearTimeout(timerId)\n  }\n\n  return result\n}\n\n/**\n * Creates a throttled function that only invokes func at most\n * once per every wait milliseconds.\n * @name throttled\n * @param  {Function} fn   Function to debounce\n * @param  {Number} delay  How long to wait\n * @return {Function}      Executed Function\n * @private\n **/\nexport function throttled (fn, delay) {\n  let lastCall = 0\n  return function (...args) {\n    const now = new Date().getTime()\n    if (now - lastCall < delay) {\n      return\n    }\n    lastCall = now\n    return fn(...args)\n  }\n}\n\nlet lastMs = 0\nlet additional = 0\n\n/**\n * Returns current time in microseconds.\n *\n * @returns {Number} current time in microseconds\n * @private\n */\nexport function microSeconds () {\n  const ms = new Date().getTime()\n  if (ms === lastMs) {\n    additional++\n    return ms * 1000 + additional\n  } else {\n    lastMs = ms\n    additional = 0\n    return ms * 1000\n  }\n}\n\n/**\n * Generate and return a random token.\n *\n * @returns {String} Random token.\n * @private\n */\nexport function randomToken () {\n  return Math.random().toString(36).substring(2)\n}\n\n/**\n * Checks if a js object is a promise.\n *\n * @param {*} obj  Any javascript object.\n * @returns {Boolean} Wether or not this object is a promise.\n */\nexport function isPromise (obj) {\n  if (obj && typeof obj.then === 'function') {\n    /* istanbul ignore next */\n    return true\n  } else {\n    return false\n  }\n}\n\n/**\n * Sleeps for x amount of milliseconds.\n *\n * @param {Number} time   Amount of time in milliseconds.\n * @returns {Promise}\n * @private\n */\nexport function sleep (time = 0) {\n  return new Promise(resolve => setTimeout(resolve, time))\n}\n\n/**\n * Get the current timestamp.\n *\n * @returns {Number}\n * @private\n */\nexport function now () {\n  return new Date().getTime()\n}\n\n/**\n * Waits until the given function returns true\n * @param  {function}  fn\n * @return {Promise}\n */\nexport function waitUntil (fn, timeout = 0, interval = 20) {\n  let timedOut = false\n  let ok = false\n\n  /* istanbul ignore next */\n  if (timeout !== 0) {\n    sleep(timeout).then(() => {\n      timedOut = true\n    })\n  }\n\n  return new Promise((resolve, reject) => {\n    const runLoop = () => {\n      if (ok) {\n        resolve()\n        return\n      }\n      /* istanbul ignore next */\n      if (timedOut) {\n        reject(new Error(` waitUntil reached timeout of ${timeout}ms`))\n        return\n      }\n      sleep(interval).then(() => {\n        ok = fn()\n        runLoop()\n      })\n    }\n    runLoop()\n  })\n}\n","/* eslint-env browser */\nimport { microSeconds } from '../../utils'\n\nexport const type = 'broadcastChannel'\n\nexport function create (channelName) {\n  const state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName)\n  }\n\n  state.bc.onmessage = msg => {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data)\n    }\n  }\n\n  return state\n}\n\nexport function close (channelState) {\n  channelState.bc.close()\n}\n\nexport function postMessage (channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false)\n    return Promise.resolve()\n  } catch (err) {\n    /* istanbul ignore next */\n    return Promise.reject(err)\n  }\n}\n\nexport function onMessage (channelState, fn) {\n  channelState.messagesCallback = fn\n}\n\nexport function canBeUsed () {\n  if (typeof BroadcastChannel === 'function') {\n    return true\n  } else {\n    /* istanbul ignore next */\n    return false\n  }\n}\n\nexport function averageResponseTime () {\n  return 150\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import { now } from '../utils'\n\nexport default class ObliviousSet {\n  constructor (ttl = 1000 * 60) {\n    this.ttl = ttl\n    this.set = new Set()\n    this.timeMap = new Map()\n  }\n\n  has (value) {\n    return this.set.has(value)\n  }\n\n  add (value) {\n    this.timeMap.set(value, now())\n    this.set.add(value)\n    this._removeTooOldValues()\n  }\n\n  clear () {\n    this.set.clear()\n    this.timeMap.clear()\n  }\n\n  _removeTooOldValues () {\n    const olderThen = now() - this.ttl\n    const iterator = this.set[Symbol.iterator]()\n\n    while (true) {\n      const value = iterator.next().value\n      if (!value) return // no more elements\n      const time = this.timeMap.get(value)\n      if (time < olderThen) {\n        this.timeMap.delete(value)\n        this.set.delete(value)\n      } else {\n        // We reached a value that is not old enough\n        return\n      }\n    }\n  }\n}\n","import ObliviousSet from '../ObliviousSet'\n\nimport {\n  randomToken,\n  microSeconds\n} from '../../utils'\n\nexport const type = 'localStorage'\n\n/**\n * Returns local storage instance\n */\nexport function getLocalStorage () {\n  let localStorage\n  if (typeof window === 'undefined') return null\n  try {\n    localStorage = window.localStorage\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage\n}\n\nexport function storageKey (channelName) {\n  return channelName\n}\n\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\nexport function postMessage (channelState, messageJson) {\n  return new Promise(resolve => {\n    const key = storageKey(channelState.channelName)\n    const writeObj = {\n      token: randomToken(),\n      time: new Date().getTime(),\n      data: messageJson,\n      uuid: channelState.uuid\n    }\n    const value = JSON.stringify(writeObj)\n    getLocalStorage().setItem(key, value)\n\n    /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n    const ev = document.createEvent('Event')\n    ev.initEvent('storage', true, true)\n    ev.key = key\n    ev.newValue = value\n    window.dispatchEvent(ev)\n\n    resolve()\n  })\n}\n\nexport function addStorageEventListener (channelName, fn) {\n  const key = storageKey(channelName)\n  const listener = ev => {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue))\n    }\n  }\n  window.addEventListener('storage', listener)\n  return listener\n}\nexport function removeStorageEventListener (listener) {\n  window.removeEventListener('storage', listener)\n}\n\nexport function create (channelName, options = {}) {\n  if (!canBeUsed()) {\n    /* istanbul ignore next */\n    throw new Error(' localStorage cannot be used.')\n  }\n\n  const uuid = randomToken()\n\n  /**\n     * eMIs\n     * contains all messages that have been emitted before\n     * @type {ObliviousSet}\n     */\n  const eMIs = new ObliviousSet(options.removeTimeout)\n\n  const state = {\n    channelName,\n    uuid,\n    eMIs // emittedMessagesIds\n  }\n\n  state.listener = addStorageEventListener(\n    channelName,\n    (msgObj) => {\n      if (!state.messagesCallback) return // no listener\n      if (msgObj.uuid === uuid) return // own message\n      if (!msgObj.token || eMIs.has(msgObj.token)) return // already emitted\n      if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return // too old\n\n      eMIs.add(msgObj.token)\n      state.messagesCallback(msgObj.data)\n    }\n  )\n\n  return state\n}\n\nexport function close (channelState) {\n  removeStorageEventListener(channelState.listener)\n}\n\nexport function onMessage (channelState, fn, time) {\n  channelState.messagesCallbackTime = time\n  channelState.messagesCallback = fn\n}\n\nexport function canBeUsed () {\n  const ls = getLocalStorage()\n\n  if (!ls) return false\n\n  try {\n    const key = '__check'\n    ls.setItem(key, 'works')\n    ls.removeItem(key)\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n\n    /* istanbul ignore next */\n    return false\n  }\n\n  return true\n}\n\n/* istanbul ignore next */\nexport function averageResponseTime () {\n  const defaultTime = 120\n  const userAgent = navigator.userAgent.toLowerCase()\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2\n  }\n  return defaultTime\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import { microSeconds } from '../../utils'\n\nexport const type = 'simulate'\n\nconst SIMULATE_CHANNELS = new Set()\n\nexport function create (channelName) {\n  const state = {\n    name: channelName,\n    messagesCallback: null\n  }\n  SIMULATE_CHANNELS.add(state)\n\n  return state\n}\n\nexport function close (channelState) {\n  SIMULATE_CHANNELS.delete(channelState)\n}\n\nexport function postMessage (channelState, messageJson) {\n  return new Promise(resolve => setTimeout(() => {\n    const channelArray = Array.from(SIMULATE_CHANNELS)\n    channelArray\n      .filter(channel => channel.name === channelState.name)\n      .filter(channel => channel !== channelState)\n      .filter(channel => !!channel.messagesCallback)\n      .forEach(channel => channel.messagesCallback(messageJson))\n    resolve()\n  }, 5))\n}\n\nexport function onMessage (channelState, fn) {\n  channelState.messagesCallback = fn\n}\n\n/* istanbul ignore next */\nexport function canBeUsed () {\n  return true\n}\n\n/* istanbul ignore next */\nexport function averageResponseTime () {\n  return 5\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import BroadcastChannelMethod from './methods/broadcastChannel'\nimport LocalStorageMethod from './methods/localStorage'\nimport SimulateMethod from './methods/simulate'\n\n// Order is important\nconst METHODS = [\n  BroadcastChannelMethod,\n  LocalStorageMethod\n]\n\nexport function chooseMethod (options = {}) {\n  if (options.type) {\n    // For testing\n    if (options.type === 'simulate') {\n      return SimulateMethod\n    }\n\n    // Chosen type\n    const method = METHODS.find(m => m.type === options.type)\n    if (!method) throw new Error(` Method ${options.type} is not supported.`)\n    else return method\n  }\n\n  const useMethod = METHODS.find(method => method.canBeUsed())\n\n  /* istanbul ignore next */\n  if (!useMethod) {\n    throw new Error(` No method found ${JSON.stringify(METHODS.map(m => m.type))}`)\n  }\n  return useMethod\n}\n","import { chooseMethod } from './methodChooser'\nimport { isPromise } from '../utils'\n\nexport class MessageChannel {\n  constructor (name, options = {}) {\n    this.name = name\n    this.options = options\n    this.method = chooseMethod(this.options)\n    this.closed = false\n\n    // isListening\n    this._isListening = false\n\n    /**\n     * _onMessageListener\n     * setting onmessage twice,\n     * will overwrite the first listener\n     */\n    this._onMessageListener = null\n\n    /**\n     * _addEventListeners\n     */\n    this._addEventListeners = {\n      message: [],\n      internal: []\n    }\n\n    /**\n     * Un send message promises\n     * where the sending is still in progress\n     * @type {Set<Promise>}\n     */\n    this._unSendMessagePromises = new Set()\n\n    /**\n     * _beforeClose\n     * array of promises that will be awaited\n     * before the channel is closed\n     */\n    this._beforeClose = []\n\n    /**\n     * _preparePromise\n     */\n    this._preparePromises = null\n    _prepareChannel(this)\n  }\n\n  postMessage (msg) {\n    if (this.closed) {\n      throw new Error(\n        ' Cannot post message after channel has closed'\n      )\n    }\n    return _post(this, 'message', msg)\n  }\n\n  postInternal (msg) {\n    return _post(this, 'internal', msg)\n  }\n\n  set onmessage (fn) {\n    const time = this.method.microSeconds()\n    const listenObj = {\n      time,\n      fn\n    }\n    _removeListenerObject(this, 'message', this._onMessageListener)\n    if (fn && typeof fn === 'function') {\n      this._onMessageListener = listenObj\n      _addListenerObject(this, 'message', listenObj)\n    } else {\n      /* istanbul ignore next */\n      this._onMessageListener = null\n    }\n  }\n\n  /* istanbul ignore next */\n  get onmessage () {\n    return this._onMessageListener\n  }\n\n  addEventListener (type, fn) {\n    const time = this.method.microSeconds()\n    const listenObj = {\n      time,\n      fn\n    }\n    _addListenerObject(this, type, listenObj)\n  }\n\n  removeEventListener (type, fn) {\n    const obj = this._addEventListeners[type].find(obj => obj.fn === fn)\n    _removeListenerObject(this, type, obj)\n  }\n\n  close () {\n    if (this.closed) {\n      return\n    }\n    this.closed = true\n    const awaitPrepare = this._preparePromises ? this._preparePromises : Promise.resolve()\n\n    this._onMessageListener = null\n    this._addEventListeners.message = []\n\n    return awaitPrepare\n      // Wait until all current sending are processed\n      .then(() => Promise.all(Array.from(this._unSendMessagePromises)))\n      // Run before-close hooks\n      .then(() => Promise.all(this._beforeClose.map(fn => fn())))\n      // Close the channel\n      .then(() => this.method.close(this._state))\n  }\n\n  get type () {\n    return this.method.type\n  }\n\n  isClosed () {\n    return this.closed\n  }\n}\n\nfunction _post (messageChannel, type, msg) {\n  const time = messageChannel.method.microSeconds()\n  const msgObj = {\n    time,\n    type,\n    data: msg\n  }\n\n  const awaitPrepare = messageChannel._preparePromises ? messageChannel._preparePromises : Promise.resolve()\n  return awaitPrepare.then(() => {\n    const sendPromise = messageChannel.method.postMessage(\n      messageChannel._state,\n      msgObj\n    )\n\n    // add/remove to un-send messages list\n    messageChannel._unSendMessagePromises.add(sendPromise)\n    sendPromise\n      .catch()\n      .then(() => messageChannel._unSendMessagePromises.delete(sendPromise))\n\n    return sendPromise\n  })\n}\n\nfunction _prepareChannel (channel) {\n  const maybePromise = channel.method.create(channel.name, channel.options)\n  /* istanbul ignore next */\n  if (isPromise(maybePromise)) {\n    channel._preparePromises = maybePromise\n    maybePromise.then(s => {\n      channel._state = s\n    })\n  } else {\n    channel._state = maybePromise\n  }\n}\n\nfunction _hasMessageListeners (channel) {\n  if (channel._addEventListeners.message.length > 0) return true\n  if (channel._addEventListeners.internal.length > 0) return true\n  return false\n}\n\nfunction _addListenerObject (channel, type, obj) {\n  channel._addEventListeners[type].push(obj)\n  _startListening(channel)\n}\n\nfunction _removeListenerObject (channel, type, obj) {\n  channel._addEventListeners[type] = channel._addEventListeners[type].filter(o => o !== obj)\n  _stopListening(channel)\n}\n\nfunction _startListening (channel) {\n  if (!channel._isListening && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    const listenerFn = msgObj => {\n      channel._addEventListeners[msgObj.type].forEach(obj => {\n        if (msgObj.time >= obj.time) {\n          obj.fn(msgObj.data)\n        }\n      })\n    }\n\n    const time = channel.method.microSeconds()\n    if (channel._preparePromises) {\n      /* istanbul ignore next */\n      channel._preparePromises.then(() => {\n        channel._isListening = true\n        channel.method.onMessage(\n          channel._state,\n          listenerFn,\n          time\n        )\n      })\n    } else {\n      channel._isListening = true\n      channel.method.onMessage(\n        channel._state,\n        listenerFn,\n        time\n      )\n    }\n  }\n}\n\nfunction _stopListening (channel) {\n  if (channel._isListening && !_hasMessageListeners(channel)) {\n    // no one is listening, stop subscribing\n    channel._isListening = false\n    const time = channel.method.microSeconds()\n    channel.method.onMessage(\n      channel._state,\n      null,\n      time\n    )\n  }\n}\n","import { IS_BROWSER, sleep, randomToken } from '../utils'\n\nclass LeaderElection {\n  constructor (channel, options) {\n    this._channel = channel\n    this._options = options\n\n    this.isLeader = false\n    this.isDead = false\n    this.token = randomToken()\n\n    this._isApplying = false\n    this._reApply = false\n\n    // things to clean up\n    this._unloadFns = []\n    this._listeners = []\n    this._intervals = []\n    this._duplicateListeners = () => { }\n    this._duplicateCalled = false\n    this._onBeforeDie = async () => {}\n\n    const unloadFn = async () => this.die()\n\n    if (IS_BROWSER) {\n      window.addEventListener('beforeUnload', unloadFn)\n      window.addEventListener('unload', unloadFn)\n\n      this._unloadFns.push(['beforeUnload', unloadFn])\n      this._unloadFns.push(['unload', unloadFn])\n    }\n  }\n\n  applyOnce () {\n    if (this.isLeader) return Promise.resolve(false)\n    if (this.isDead) return Promise.resolve(false)\n\n    // do nothing if already running\n    if (this._isApplying) {\n      this._reApply = true\n      return Promise.resolve(false)\n    }\n    this._isApplying = true\n\n    let stopCriteria = false\n    const received = []\n\n    const handleMessage = (msg) => {\n      if (msg.context === 'leader' && msg.token !== this.token) {\n        received.push(msg)\n\n        if (msg.action === 'apply') {\n          // Other is applying\n          if (msg.token > this.token) {\n            // Other has higher token, stop applying\n            stopCriteria = true\n          }\n        }\n\n        if (msg.action === 'tell') {\n          // Other is already leader\n          stopCriteria = true\n        }\n      }\n    }\n    this._channel.addEventListener('internal', handleMessage)\n\n    return _sendMessage(this, 'apply') // send out that this one is applying\n      .then(() => sleep(this._options.responseTime)) // let others time to respond\n      .then(() => {\n        if (stopCriteria) return Promise.reject(new Error())\n        else return _sendMessage(this, 'apply')\n      })\n      .then(() => sleep(this._options.responseTime)) // let others time to respond\n      .then(() => {\n        if (stopCriteria) return Promise.reject(new Error())\n        else return _sendMessage(this)\n      })\n      .then(() => beLeader(this)) // no one disagreed -> this one is now leader\n      .then(() => true)\n      .catch(() => false) // apply not successful\n      .then(success => {\n        this._channel.removeEventListener('internal', handleMessage)\n        this._isApplying = false\n        if (!success && this._reApply) {\n          this._reApply = false\n          return this.applyOnce()\n        } else return success\n      })\n  }\n\n  awaitLeadership () {\n    if (\n      !this._awaitLeadershipPromise\n    ) {\n      this._awaitLeadershipPromise = _awaitLeadershipOnce(this)\n    }\n    return this._awaitLeadershipPromise\n  }\n\n  set onDuplicate (fn) {\n    this._duplicateListeners = fn\n  }\n\n  /* istanbul ignore next */\n  get onDuplicate () {\n    return this._duplicateListeners\n  }\n\n  set onBeforeDie (fn) {\n    this._onBeforeDie = fn\n  }\n\n  /* istanbul ignore next */\n  get onBeforeDie () {\n    return this._onBeforeDie\n  }\n\n  async die () {\n    if (this.isDead) return\n    this.isDead = true\n\n    await this.onBeforeDie()\n    this._listeners.forEach(listener => this._channel.removeEventListener('internal', listener))\n    this._intervals.forEach(interval => clearInterval(interval))\n    this._unloadFns.forEach(uFn => {\n      if (IS_BROWSER) {\n        window.removeEventListener(uFn[0], uFn[1])\n      }\n    })\n    return _sendMessage(this, 'death')\n  }\n}\n\nfunction _awaitLeadershipOnce (leaderElector) {\n  if (leaderElector.isLeader) return Promise.resolve()\n\n  return new Promise(resolve => {\n    let resolved = false\n\n    function finish () {\n      /* istanbul ignore next */\n      if (resolved) {\n        return\n      }\n      resolved = true\n      clearInterval(interval)\n      leaderElector._channel.removeEventListener('internal', whenDeathListener)\n      resolve(true)\n    }\n\n    // try once now\n    leaderElector.applyOnce().then(() => {\n      if (leaderElector.isLeader) {\n        finish()\n      }\n    })\n\n    // try on fallbackInterval\n    const interval = setInterval(() => {\n      /* istanbul ignore next */\n      leaderElector.applyOnce().then(() => {\n        if (leaderElector.isLeader) {\n          finish()\n        }\n      })\n    }, leaderElector._options.fallbackInterval)\n    leaderElector._intervals.push(interval)\n\n    // try when other leader dies\n    const whenDeathListener = msg => {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.applyOnce().then(() => {\n          if (leaderElector.isLeader) finish()\n        })\n      }\n    }\n    leaderElector._channel.addEventListener('internal', whenDeathListener)\n    leaderElector._listeners.push(whenDeathListener)\n  })\n}\n\n/**\n * Sends and internal message over the broadcast-channel\n */\nfunction _sendMessage (leaderElector, action) {\n  const msgJson = {\n    context: 'leader',\n    action,\n    token: leaderElector.token\n  }\n  return leaderElector._channel.postInternal(msgJson)\n}\n\nexport function beLeader (leaderElector) {\n  leaderElector.isLeader = true\n\n  const isLeaderListener = msg => {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell')\n    }\n\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._duplicateCalled) {\n      /**\n       * Another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       */\n      leaderElector._duplicateCalled = true\n      leaderElector._duplicateListeners() // message the lib user so the app can handle the problem\n      _sendMessage(leaderElector, 'tell') // ensure other leader also knows the problem\n    }\n  }\n  leaderElector._channel.addEventListener('internal', isLeaderListener)\n  leaderElector._listeners.push(isLeaderListener)\n  return _sendMessage(leaderElector, 'tell')\n}\n\nexport function createLeaderElection (channel, options) {\n  if (channel._leaderElector) {\n    throw new Error(' MessageChannel already has a leader-elector')\n  }\n\n  const elector = new LeaderElection(channel, options)\n  channel._beforeClose.push(async () => elector.die())\n\n  channel._leaderElector = elector\n  return elector\n}\n","import { MessageChannel, createLeaderElection } from './MessageChannel'\nexport const TabManager = ({\n  type,\n  channelName,\n  fallbackInterval,\n  responseTime,\n  emitOnAllTabs,\n  callbacks,\n  start,\n  reset,\n  pause,\n  resume\n}) => {\n  const channel = new MessageChannel(channelName, { type })\n  const elector = createLeaderElection(channel, { fallbackInterval, responseTime })\n  const registry = {}\n\n  // Register self\n  registry[elector.token] = false\n\n  let leader = false\n  let allIdle = true\n\n  const isLeader = () => leader\n\n  elector.awaitLeadership().then(() => {\n    leader = true\n  })\n\n  channel.addEventListener('message', ([type, id]) => {\n    switch (type) {\n      case 'register':\n        registry[id] = false\n        break\n      case 'deregister':\n        delete registry[id]\n        break\n      case 'idle':\n        idle(id)\n        break\n      case 'active':\n        active(id)\n        break\n      case 'emitIdle':\n        callbacks.onIdle()\n        break\n      case 'emitActive':\n        callbacks.onActive()\n        break\n      case 'start':\n        start(true)\n        break\n      case 'reset':\n        reset(true)\n        break\n      case 'pause':\n        pause(true)\n        break\n      case 'resume':\n        resume(true)\n        break\n      default:\n        // no op\n    }\n  })\n\n  const setAllIdle = bool => {\n    allIdle = bool\n  }\n\n  const isAllIdle = () => allIdle\n\n  const idle = (id = elector.token) => {\n    registry[id] = true\n    const isIdle = Object.values(registry).every(v => v)\n    if (!allIdle && isIdle) {\n      allIdle = true\n      if (isLeader()) {\n        callbacks.onIdle()\n        if (emitOnAllTabs) send('emitIdle')\n      } else {\n        send('idle')\n      }\n    }\n  }\n\n  const active = (id = elector.token) => {\n    registry[id] = false\n    const isActive = Object.values(registry).some(v => !v)\n    if (allIdle && isActive) {\n      allIdle = false\n      if (isLeader()) {\n        callbacks.onActive()\n        if (emitOnAllTabs) send('emitActive')\n      } else {\n        send('active')\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  elector.onDuplicate = async () => await elector.die()\n  elector.onBeforeDie = async () => await send('deregister')\n\n  const send = async message => channel.postMessage([message, elector.token])\n\n  const close = async () => {\n    await elector.die()\n    await channel.close()\n  }\n\n  // Register self with remote tabs\n  send('register')\n\n  return { close, send, isLeader, idle, active, isAllIdle, setAllIdle }\n}\n","/**\n *  ___    _ _     _____ _\n * |_ _|__| | | __|_   _(_)_ __ ___   ___ _ __\n *  | |/ _` | |/ _ \\| | | | '_ ` _ \\ / _ \\ '__|\n *  | | (_| | |  __/| | | | | | | | |  __/ |\n * |___\\__,_|_|\\___||_| |_|_| |_| |_|\\___|_|\n *\n * @name IdleTimer\n * @author Randy Lebeau\n * @private\n */\n\nimport { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { TabManager } from './TabManager'\nimport { IS_BROWSER, DEFAULT_ELEMENT, DEFAULT_EVENTS, debounced, throttled } from './utils'\n\n/**\n * Detects when your user is idle\n * @class IdleTimer\n * @private\n */\nclass IdleTimer extends Component {\n  /**\n   * Creates an instance of IdleTimer\n   * bind all of our internal events here\n   * for best performance\n   * @param {Object} props\n   * @return {IdleTimer}\n   * @private\n   */\n  constructor (props) {\n    super(props)\n\n    /**\n     * Sets initial component state\n     * @type {Object}\n     * @private\n     */\n    this.state = {\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      lastIdle: null,\n      idleTime: 0,\n      remaining: null,\n      pageX: null,\n      pageY: null\n    }\n\n    /**\n     * The timer instance\n     * @type {Timeout}\n     * @private\n     */\n    this.tId = null\n\n    /**\n     * Wether or not events are bound\n     * @type {boolean}\n     * @private\n     */\n    this.eventsBound = false\n\n    this.callbackRefs = {}\n\n    // Debounce and throttle can't both be set\n    if (props.debounce > 0 && props.throttle > 0) {\n      throw new Error('onAction can either be throttled or debounced (not both)')\n    }\n\n    // Create debounced action if applicable\n    if (props.debounce > 0) {\n      this._onAction = debounced(props.onAction, props.debounce)\n\n    // Create throttled action if applicable\n    } else if (props.throttle > 0) {\n      this._onAction = throttled(props.onAction, props.throttle)\n\n    // Set custom onAction\n    } else {\n      this._onAction = props.onAction\n    }\n\n    // Create a throttle event handler if applicable\n    if (props.eventsThrottle > 0) {\n      this.handleEvent = throttled(this._handleEvent.bind(this), props.eventsThrottle)\n    } else {\n      this.handleEvent = this._handleEvent.bind(this)\n    }\n\n    // If startOnMount is set, idle state defaults to true\n    if (!props.startOnMount || props.startManually) {\n      this.state.idle = true\n    }\n\n    // Bind all events to component scope, built for speed \n    this._toggleIdleState = this._toggleIdleState.bind(this)\n    this.start = this.start.bind(this)\n    this.reset = this.reset.bind(this)\n    this.pause = this.pause.bind(this)\n    this.resume = this.resume.bind(this)\n    this.isIdle = this.isIdle.bind(this)\n    this.getRemainingTime = this.getRemainingTime.bind(this)\n    this.getElapsedTime = this.getElapsedTime.bind(this)\n    this.getLastActiveTime = this.getLastActiveTime.bind(this)\n    this.getLastIdleTime = this.getLastIdleTime.bind(this)\n    this.getTotalIdleTime = this.getTotalIdleTime.bind(this)\n    this.getTotalActiveTime = this.getTotalActiveTime.bind(this)\n  }\n\n  /**\n   * Runs once the component has mounted\n   * here we handle automatically starting\n   * the idletimer\n   * @private\n   */\n  componentDidMount () {\n    const { startOnMount, startManually } = this.props\n\n    // Set up cross tab\n    this._setupTabManager()\n\n    if (startManually) return\n    if (startOnMount) {\n      this.start()\n    } else {\n      this._bindEvents()\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    // Update debounce function\n    if ((prevProps.debounce !== this.props.debounce) && this.props.debounce > 0) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = debounced(this.props.onAction, this.props.debounce)\n    } else\n    // Update throttle function\n    if ((prevProps.throttle !== this.props.throttle) && this.props.throttle > 0) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = throttled(this.props.onAction, this.props.throttle)\n    } else\n    // Remove throttle or debounce\n    if (\n      (prevProps.throttle && this.props.throttle === 0) ||\n      (prevProps.debounce && this.props.debounce === 0)\n    ) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = this.props.onAction\n    }\n\n    // Update event throttle function\n    if (prevProps.eventsThrottle !== this.props.eventsThrottle) {\n      this._unbindEvents()\n      this.handleEvent = throttled(this._handleEvent.bind(this), this.props.eventsThrottle)\n      this._bindEvents()\n    }\n    // Update timeout value\n    if (prevProps.timeout !== this.props.timeout) {\n      if (this.state.idle) this.reset()\n    }\n\n    // Update callback refs\n    if (prevProps.onActive !== this.props.onActive) this.callbackRefs.onActive = this.props.onActive\n    if (prevProps.onIdle !== this.props.onIdle) this.callbackRefs.onIdle = this.props.onIdle\n  }\n\n  /**\n   * Called before the component un-mounts\n   * here we clear the timer and remove\n   * all the event listeners\n   * @private\n   */\n  componentWillUnmount () {\n    // Clear timeout to prevent delayed state changes\n    clearTimeout(this.tId)\n    this._unbindEvents(true)\n    // Cancel any debounced onAction handlers\n    if (this._onAction.cancel) this._onAction.cancel()\n    /* istanbul ignore next */\n    if (this.manager) {\n      this.manager.close().catch(console.error)\n    }\n  }\n\n  /**\n   * Render children if IdleTimer is used as a wrapper\n   * @return {Component} children\n   * @private\n   */\n  render () {\n    const { children } = this.props\n    return children || null\n  }\n\n  /**\n   * Setup the Tab Manager.\n   * @private\n   */\n  _setupTabManager () {\n    const { crossTab, onIdle, onActive } = this.props\n    this.callbackRefs = { onIdle, onActive }\n\n    /* istanbul ignore next */\n    if (crossTab) {\n      const {\n        type,\n        channelName,\n        fallbackInterval,\n        responseTime,\n        emitOnAllTabs\n      } = Object.assign({\n        channelName: 'idle-timer',\n        fallbackInterval: 2000,\n        responseTime: 100,\n        removeTimeout: 1000 * 60,\n        emitOnAllTabs: false\n      }, crossTab === true ? {} : crossTab)\n\n      this.manager = TabManager({\n        type,\n        channelName,\n        fallbackInterval,\n        responseTime,\n        emitOnAllTabs,\n        callbacks: this.callbackRefs,\n        start: this.start,\n        reset: this.reset,\n        pause: this.pause,\n        resume: this.resume\n      })\n    }\n  }\n\n  /**\n   * Binds the specified events\n   * @private\n   */\n  _bindEvents () {\n    // Don't bind events if\n    // we are not in a browser\n    if (!IS_BROWSER) return\n    // Otherwise we bind all the events\n    // to the supplied element\n    const { element, events, passive, capture } = this.props\n    if (!this.eventsBound) {\n      events.forEach(e => {\n        element.addEventListener(e, this.handleEvent, {\n          capture,\n          passive\n        })\n      })\n      this.eventsBound = true\n    }\n  }\n\n  /**\n   * Unbinds all the bound events\n   * @private\n   */\n  _unbindEvents (force = false) {\n    // If we are not in a browser\n    // we don't need to unbind events\n    if (!IS_BROWSER) return\n    // Unbind all events\n    const { element, events, passive, capture } = this.props\n    if (this.eventsBound || force) {\n      events.forEach(e => {\n        element.removeEventListener(e, this.handleEvent, {\n          capture,\n          passive\n        })\n      })\n      this.eventsBound = false\n    }\n  }\n\n  /**\n   * Toggles the idle state and calls\n   * the correct action function\n   * @private\n   */\n  _toggleIdleState (e) {\n    // Fire the appropriate action\n    // and pass the event through\n    // Toggle the idle state\n    this.setState((prevState) => ({\n      idle: !prevState.idle,\n      lastIdle: !prevState.idle ? (+new Date()) - this.props.timeout : prevState.lastIdle,\n      idleTime: prevState.idle ? prevState.idleTime + (+new Date()) - prevState.lastIdle : prevState.idleTime\n    }), () => {\n      const { onActive, onIdle, stopOnIdle } = this.props\n      const { idle } = this.state\n      if (idle) {\n        if (stopOnIdle) {\n          // Clear any existing timeout\n          clearTimeout(this.tId)\n          this.tId = null\n          // Unbind events\n          this._unbindEvents()\n        }\n\n        if (this.manager) {\n          /* istanbul ignore next */\n          this.manager.idle()\n        } else {\n          onIdle(e)\n        }\n      } else {\n        this._bindEvents()\n        if (this.manager) {\n          /* istanbul ignore next */\n          this.manager.active()\n        } else {\n          onActive(e)\n        }\n      }\n    })\n  }\n\n  /**\n   * Event handler for supported event types\n   * @param  {Object} e event object\n   * @private\n   */\n  _handleEvent (e) {\n    const { remaining, pageX, pageY, idle } = this.state\n    const { timeout, stopOnIdle } = this.props\n\n    // Fire onAction event\n    this._onAction(e)\n\n    // Already active, ignore events\n    if (remaining) return\n\n    // Mousemove event\n    if (e.type === 'mousemove') {\n      // If coords are same, it didn't move\n      /* istanbul ignore next */\n      if (e.pageX === pageX && e.pageY === pageY) {\n        return\n      }\n      // If coords don't exist how could it move\n      if (typeof e.pageX === 'undefined' && typeof e.pageY === 'undefined') {\n        return\n      }\n      // Under 200 ms is hard to do\n      // continuous activity will bypass this\n      /* istanbul ignore next */\n      const elapsed = this.getElapsedTime()\n      /* istanbul ignore next */\n      if (elapsed < 200) {\n        return\n      }\n    }\n\n    // Clear any existing timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Determine last time User was active, as can't rely on setTimeout ticking at the correct interval\n    const elapsedTimeSinceLastActive = +new Date() - this.getLastActiveTime()\n\n    // If the user is idle or last active time is more than timeout, flip the idle state\n    if ((idle && !stopOnIdle) || (!idle && elapsedTimeSinceLastActive > timeout)) {\n      this._toggleIdleState(e)\n    }\n\n    // Store when the user was last active\n    // and update the mouse coordinates\n    this.setState({\n      lastActive: +new Date(),\n      pageX: e.pageX,\n      pageY: e.pageY\n    })\n\n    // If the user is idle and stopOnIdle flag is not set\n    // set a new timeout\n    if (idle) {\n      if (!stopOnIdle) {\n        this.tId = setTimeout(this._toggleIdleState, timeout)\n      }\n    } else {\n      this.tId = setTimeout(this._toggleIdleState, timeout)\n    }\n  }\n\n  /**\n   * Set initial state and start timer\n   * @name start\n   */\n  start (remote = true) {\n    // Clear timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Bind the events\n    this._bindEvents()\n\n    // Reset state\n    this.setState({\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      remaining: null\n    })\n\n    if (this.manager) {\n      /* istanbul ignore next */\n      this.manager.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('start')\n      }\n    }\n\n    // Set new timeout\n    const { timeout } = this.props\n    this.tId = setTimeout(this._toggleIdleState, timeout)\n  }\n\n  /**\n   * Restore initial state and restart timer, calling onActive\n   * @name reset\n   */\n  reset (remote = false) {\n    // Clear timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Bind the events\n    this._bindEvents()\n\n    if (this.state.idle) {\n      if (this.manager) {\n        /* istanbul ignore next */\n        this.manager.active()\n      } else {\n        this.props.onActive()\n      }\n    }\n\n    if (this.manager) {\n      /* istanbul ignore next */\n      this.manager.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('reset')\n      }\n    }\n\n    // Reset state\n    this.setState({\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      remaining: null\n    })\n\n    // Set new timeout\n    const { timeout } = this.props\n    this.tId = setTimeout(this._toggleIdleState, timeout)\n  }\n\n  /**\n   * Store remaining time and stop timer\n   * @name pause\n   */\n  pause (remote = false) {\n    // Timer is already paused\n    const { remaining } = this.state\n    if (remaining !== null) return\n\n    // Unbind events\n    this._unbindEvents()\n\n    // Clear existing timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Send event to other tabs\n    if (this.manager) {\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('pause')\n      }\n    }\n\n    // Define how much is left on the timer\n    this.setState({\n      remaining: this.getRemainingTime()\n    })\n  }\n\n  /**\n   * Resumes a paused timer\n   * @name resume\n   */\n  resume (remote = false) {\n    // Timer is not paused\n    const { remaining, idle } = this.state\n    if (remaining === null) return\n\n    // Bind events\n    this._bindEvents()\n\n    // Send event to other tabs\n    if (this.manager) {\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('resume')\n      }\n    }\n\n    // Start timer and clear remaining\n    // if we are in the active state\n    if (!idle) {\n      // Set a new timeout\n      this.tId = setTimeout(this._toggleIdleState, remaining)\n      // Set new state\n      this.setState({ remaining: null, lastActive: +new Date() })\n    }\n  }\n\n  /**\n   * Time remaining before idle\n   * @name getRemainingTime\n   * @return {number} Milliseconds remaining\n   */\n  getRemainingTime () {\n    const { remaining, lastActive } = this.state\n    const { timeout } = this.props\n\n    // If idle there is no time remaining\n    if (remaining !== null) {\n      return remaining < 0 ? 0 : remaining\n    }\n\n    // Determine remaining, if negative idle didn't finish flipping, just return 0\n    const timeLeft = timeout - ((+new Date()) - lastActive)\n    return timeLeft < 0 ? 0 : timeLeft\n  }\n\n  /**\n   * How much time has elapsed\n   * @name getElapsedTime\n   * @return {Timestamp}\n   */\n  getElapsedTime () {\n    const { oldDate } = this.state\n    return (+new Date()) - oldDate\n  }\n\n  /**\n   * Last time the user was idle\n   * @name getLastIdleTime\n   * @return {Timestamp}\n   */\n  getLastIdleTime () {\n    const { lastIdle } = this.state\n    return lastIdle\n  }\n\n  /**\n   * Total time the user was idle\n   * @name getTotalIdleTime\n   * @return {number}\n   */\n  getTotalIdleTime () {\n    const { idle, lastIdle, idleTime } = this.state\n    if (idle) {\n      return ((+new Date()) - lastIdle) + idleTime\n    } else {\n      return idleTime\n    }\n  }\n\n  /**\n   * Last time the user was active\n   * @name getLastActiveTime\n   * @return {Timestamp}\n   */\n  getLastActiveTime () {\n    const { lastActive } = this.state\n    return lastActive\n  }\n\n  /**\n   * Total time the user was active\n   * @name getTotalActiveTime\n   * @return {number}\n   */\n  getTotalActiveTime () {\n    return this.getElapsedTime() - this.getTotalIdleTime()\n  }\n\n  /**\n   * Returns wether or not the user is idle\n   * @name isIdle\n   * @return {boolean}\n   */\n  isIdle () {\n    const { idle } = this.state\n    return idle\n  }\n\n  /**\n   * Returns wether or not this is the leader tab\n   * @name isLeader\n   * @return {boolean}\n   */\n  isLeader () {\n    return this.manager ? this.manager.isLeader() : true\n  }\n}\n\n/**\n * Type checks for every property\n * @type {Object}\n * @private\n */\nIdleTimer.propTypes = {\n  /**\n   * Activity Timeout in milliseconds\n   * default: 1200000\n   * @type {Number}\n   */\n  timeout: PropTypes.number,\n  /**\n   * DOM events to listen to\n   * default: see [default events](https://github.com/SupremeTechnopriest/react-idle-timer#default-events)\n   * @type {Array}\n   */\n  events: PropTypes.arrayOf(PropTypes.string),\n  /**\n   * Function to call when user is idle\n   * default: () => {}\n   * @type {Function}\n   */\n  onIdle: PropTypes.func,\n  /**\n   * Function to call when user becomes active\n   * default: () => {}\n   * @type {Function}\n   */\n  onActive: PropTypes.func,\n  /**\n   * Function to call on user actions\n   * default: () => {}\n   * @type {Function}\n   */\n  onAction: PropTypes.func,\n  /**\n   * Debounce the onAction function by setting delay in milliseconds\n   * default: 0\n   * @type {Number}\n   */\n  debounce: PropTypes.number,\n  /**\n   * Throttle the onAction function by setting delay in milliseconds\n   * default: 0\n   * @type {Number}\n   */\n  throttle: PropTypes.number,\n  /**\n   * Throttle the event handler function by setting delay in milliseconds\n   * default: 200\n   * @type {Number}\n   */\n  eventsThrottle: PropTypes.number,\n  /**\n   * Element reference to bind activity listeners to\n   * default: document\n   * @type {Object}\n   */\n  element: PropTypes.oneOfType([PropTypes.object, PropTypes.element]),\n  /**\n   * Start the timer on mount\n   * default: true\n   * @type {Boolean}\n   */\n  startOnMount: PropTypes.bool,\n  /**\n   * Require the timer to be started manually.\n   * default: false\n   * @type {Boolean}\n   */\n  startManually: PropTypes.bool,\n  /**\n   * Once the user goes idle the IdleTimer will not\n   * reset on user input instead, reset() must be\n   * called manually to restart the timer\n   * default: false\n   * @type {Boolean}\n   */\n  stopOnIdle: PropTypes.bool,\n  /**\n   * Bind events passively\n   * default: true\n   * @type {Boolean}\n   */\n  passive: PropTypes.bool,\n  /**\n   * Capture events\n   * default: true\n   * @type {Boolean}\n   */\n  capture: PropTypes.bool,\n  /**\n   * Cross Tab functionality.\n   * default: false\n   * @type {Boolean|Object}\n   */\n  crossTab: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.shape({\n      type: PropTypes.oneOf(['broadcastChannel', 'localStorage', 'simulate']),\n      channelName: PropTypes.string,\n      fallbackInterval: PropTypes.number,\n      responseTime: PropTypes.number,\n      removeTimeout: PropTypes.number,\n      emitOnAllTabs: PropTypes.bool\n    })\n  ])\n}\n\n/**\n * Sets default property values\n * @type {Object}\n * @private\n */\nIdleTimer.defaultProps = {\n  timeout: 1000 * 60 * 20,\n  element: DEFAULT_ELEMENT,\n  events: DEFAULT_EVENTS,\n  onIdle: () => { },\n  onActive: () => { },\n  onAction: () => { },\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: true,\n  startManually: false,\n  stopOnIdle: false,\n  capture: true,\n  passive: true,\n  crossTab: false\n}\n\nexport default IdleTimer\n","/**\n *  ___    _ _     _____ _\n * |_ _|__| | | __|_   _(_)_ __ ___   ___ _ __\n *  | |/ _` | |/ _ \\| | | | '_ ` _ \\ / _ \\ '__|\n *  | | (_| | |  __/| | | | | | | | |  __/ |\n * |___\\__,_|_|\\___||_| |_|_| |_| |_|\\___|_|\n *\n * @name useIdleTimer\n * @author Randy Lebeau\n * @private\n */\n\nimport { useEffect, useRef, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { TabManager } from './TabManager'\nimport { IS_BROWSER, DEFAULT_ELEMENT, DEFAULT_EVENTS, debounced, throttled } from './utils'\n\n/**\n * Detects when your user is idle\n * @function useIdleTimer\n * @private\n */\nfunction useIdleTimer ({\n  timeout = 1000 * 60 * 20,\n  element = DEFAULT_ELEMENT,\n  events = DEFAULT_EVENTS,\n  onIdle = () => { },\n  onActive = () => { },\n  onAction = () => { },\n  debounce = 0,\n  throttle = 0,\n  eventsThrottle = 200,\n  startOnMount = true,\n  startManually = false,\n  stopOnIdle = false,\n  capture = true,\n  passive = true,\n  crossTab = false\n} = {}) {\n  const eventsBound = useRef(false)\n  const idle = useRef(true)\n  const oldDate = useRef(+new Date())\n  const remaining = useRef(null)\n  const pageX = useRef(null)\n  const pageY = useRef(null)\n  const tId = useRef(null)\n  const lastActive = useRef(null)\n  const lastIdle = useRef(null)\n  const idleTime = useRef(0)\n  const firstLoad = useRef(true)\n  const _timeout = useRef(timeout)\n  const manager = useRef(null)\n\n  /* istanbul ignore next */\n  if (crossTab) {\n    if (crossTab === true) crossTab = {}\n    crossTab = Object.assign({\n      channelName: 'idle-timer',\n      fallbackInterval: 2000,\n      responseTime: 100,\n      removeTimeout: 1000 * 60,\n      emitOnAllTabs: false\n    }, crossTab)\n  }\n\n  // Event emitters\n  const emitOnIdle = useRef(onIdle)\n  const emitOnActive = useRef(onActive)\n  const emitOnAction = useRef(onAction)\n\n  useEffect(() => {\n    emitOnIdle.current = onIdle\n  }, [onIdle])\n\n  useEffect(() => {\n    emitOnActive.current = onActive\n  }, [onActive])\n\n  useEffect(() => {\n    emitOnAction.current = onAction\n  }, [onAction])\n\n  const intermediateOnAction = useMemo(() => {\n    function callOnAction (e) {\n      emitOnAction.current(e)\n    }\n\n    // Cancel any existing debounce timeouts\n    if (callOnAction.cancel) callOnAction.cancel()\n\n    // Create debounced action if applicable\n    if (debounce > 0) {\n      return debounced(callOnAction, debounce)\n\n      // Create throttled action if applicable\n    } else if (throttle > 0) {\n      return throttled(callOnAction, throttle)\n\n      // No throttle or debounce\n    } else {\n      return callOnAction\n    }\n  }, [throttle, debounce])\n\n  /**\n   * Toggles the idle state and calls\n   * the correct action function\n   * @private\n   */\n  const _toggleIdleState = e => {\n    const nextIdle = !idle.current\n    idle.current = nextIdle\n    if (nextIdle) {\n      if (stopOnIdle) {\n        // Clear any existing timeout\n        clearTimeout(tId.current)\n        tId.current = null\n        // Unbind events\n        _unbindEvents()\n      }\n      lastIdle.current = (+new Date()) - _timeout.current\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.idle()\n      } else {\n        emitOnIdle.current(e)\n      }\n    } else {\n      idleTime.current += (+new Date()) - lastIdle.current\n      _bindEvents()\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.active()\n      } else {\n        emitOnActive.current(e)\n      }\n    }\n  }\n\n  /**\n   * Event handler\n   * @param {Event} e\n   */\n  const _handleEvent = e => {\n    // Fire onAction event\n    intermediateOnAction(e)\n\n    // Already active, ignore events\n    if (remaining.current) return\n\n    // Mousemove event\n    /* istanbul ignore next */\n    if (e.type === 'mousemove') {\n      // If coords are same, it didn't move\n      if (e.pageX === pageX && e.pageY === pageY) {\n        return\n      }\n      // If coords don't exist how could it move\n      if (typeof e.pageX === 'undefined' && typeof e.pageY === 'undefined') {\n        return\n      }\n      // Under 200 ms is hard to do\n      // continuous activity will bypass this\n      const elapsed = getElapsedTime()\n      if (elapsed < 200) {\n        return\n      }\n    }\n\n    // Clear any existing timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Determine last time User was active, as can't rely on setTimeout ticking at the correct interval\n    const elapsedTimeSinceLastActive = +new Date() - getLastActiveTime()\n\n    // If the user is idle or last active time is more than timeout, flip the idle state\n    if (\n      (idle.current && !stopOnIdle) ||\n      (!idle.current && elapsedTimeSinceLastActive > _timeout.current)\n    ) {\n      _toggleIdleState(e)\n    }\n\n    // Store when the user was last active\n    // and update the mouse coordinates\n    lastActive.current = +new Date()\n    pageX.current = e.pageX\n    pageY.current = e.pageY\n\n    // If the user is active, set a new timeout\n    if (!idle.current) {\n      tId.current = setTimeout(_toggleIdleState, _timeout.current)\n    }\n  }\n\n  /**\n   * Reference to current handleEvent function.\n   * @private\n   */\n  const handleEvent = useRef(_handleEvent)\n\n  /**\n   * Binds the specified events\n   * @private\n   */\n  const _bindEvents = () => {\n    // Don't bind events if\n    // we are not in a browser\n    if (!IS_BROWSER) return\n    // Otherwise we bind all the events\n    // to the supplied element\n    if (!eventsBound.current) {\n      events.forEach(e => {\n        element.addEventListener(e, handleEvent.current, {\n          capture,\n          passive\n        })\n      })\n      eventsBound.current = true\n    }\n  }\n\n  /**\n   * Unbinds all the bound events\n   * @private\n   */\n  const _unbindEvents = (force = false) => {\n    // If we are not in a browser\n    // we don't need to unbind events\n    if (!IS_BROWSER) return\n    // Unbind all events\n    if (eventsBound.current || force) {\n      events.forEach(e => {\n        element.removeEventListener(e, handleEvent.current, {\n          capture,\n          passive\n        })\n      })\n      eventsBound.current = false\n    }\n  }\n\n  /**\n   * Time remaining before idle\n   * @name getRemainingTime\n   * @return {number} Milliseconds remaining\n   */\n  const getRemainingTime = () => {\n    // If idle there is no time remaining\n    if (remaining.current !== null) {\n      return remaining.current < 0 ? 0 : remaining.current\n    }\n\n    // Determine remaining, if negative idle didn't finish flipping, just return 0\n    const timeLeft = _timeout.current - ((+new Date()) - lastActive.current)\n    return timeLeft < 0 ? 0 : timeLeft\n  }\n\n  /**\n   * How much time has elapsed\n   * @name getElapsedTime\n   * @return {Timestamp}\n   */\n  const getElapsedTime = () => (+new Date()) - oldDate.current\n\n  /**\n   * Last time the user was idle\n   * @name getLastIdleTime\n   * @return {Timestamp}\n   */\n  const getLastIdleTime = () => lastIdle.current\n\n  /**\n   * Get the total time user is idle\n   * @name getTotalIdleTime\n   * @return {number} Milliseconds idle\n   */\n  const getTotalIdleTime = () => {\n    if (idle.current) {\n      return ((+new Date()) - lastIdle.current) + idleTime.current\n    } else {\n      return idleTime.current\n    }\n  }\n\n  /**\n   * Last time the user was active\n   * @name getLastActiveTime\n   * @return {Timestamp}\n   */\n  const getLastActiveTime = () => lastActive.current\n\n  /**\n   * Get the total time user is active\n   * @name getTotalActiveTime\n   * @return {number} Milliseconds active\n   */\n  const getTotalActiveTime = () => getElapsedTime() - getTotalIdleTime()\n\n  /**\n   * Returns wether or not the user is idle\n   * @name isIdle\n   * @return {Boolean}\n   */\n  const isIdle = () => idle.current\n\n  /**\n   * Returns wether or not this is the leader tab\n   * @returns {Boolean}\n   */\n  const isLeader = () => manager.current ? manager.current.isLeader() : true\n\n  /**\n  * Set initial state and start timer\n  * @name reset\n  */\n  const start = (remote = false) => {\n    // Clear timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Bind the events\n    _bindEvents()\n\n    // Set state\n    idle.current = false\n    oldDate.current = +new Date()\n    lastActive.current = +new Date()\n    remaining.current = null\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      manager.current.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('start')\n      }\n    }\n\n    // Set new timeout\n    tId.current = setTimeout(_toggleIdleState, _timeout.current)\n  }\n\n  /**\n  * Restore initial state and restart timer, calling onActive\n  * @name reset\n  */\n  const reset = (remote = false) => {\n    // Clear timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Bind the events\n    _bindEvents()\n\n    // Emit active\n    if (idle.current) {\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.active()\n      } else {\n        emitOnActive.current()\n      }\n    }\n\n    // Reset state\n    idle.current = false\n    oldDate.current = +new Date()\n    lastActive.current = +new Date()\n    remaining.current = null\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      manager.current.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('reset')\n      }\n    }\n\n    // Set new timeout\n    tId.current = setTimeout(_toggleIdleState, _timeout.current)\n  }\n\n  /**\n   * Store remaining time and stop timer\n   * @name pause\n   */\n  const pause = (remote = false) => {\n    // Timer is already paused\n    if (remaining.current !== null) return\n\n    // Unbind events\n    _unbindEvents()\n\n    // Clear existing timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Define how much is left on the timer\n    remaining.current = getRemainingTime()\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('pause')\n      }\n    }\n  }\n\n  /**\n   * Resumes a paused timer\n   * @name resume\n   */\n  const resume = (remote = false) => {\n    // Timer is not paused\n    if (remaining.current === null) return\n\n    // Bind events\n    _bindEvents()\n\n    // Start timer and clear remaining\n    // if we are in the idle state\n    if (!idle.current) {\n      // Set a new timeout\n      tId.current = setTimeout(_toggleIdleState, remaining.current)\n      // Set states\n      remaining.current = null\n      lastActive.current = +new Date()\n    }\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('resume')\n      }\n    }\n  }\n\n  /**\n   * Hook lifecycle\n   */\n  useEffect(() => {\n    // Debounce and throttle can't both be set\n    if (debounce > 0 && throttle > 0) {\n      throw new Error('onAction can either be throttled or debounced (not both)')\n    }\n\n    // Set up cross tab\n    /* istanbul ignore next */\n    if (crossTab) {\n      manager.current = TabManager({\n        type: crossTab.type,\n        channelName: crossTab.channelName,\n        fallbackInterval: crossTab.fallbackInterval,\n        responseTime: crossTab.responseTime,\n        emitOnAllTabs: crossTab.emitOnAllTabs,\n        callbacks: {\n          onIdle: emitOnIdle.current,\n          onActive: emitOnActive.current\n        },\n        start,\n        reset,\n        pause,\n        resume\n      })\n    }\n\n    // If startOnMount is enabled, start the timer\n    if (startManually) {\n      return async () => {\n        clearTimeout(tId.current)\n        _unbindEvents(true)\n        if (crossTab) await manager.current.close()\n      }\n    }\n\n    if (startOnMount) {\n      start()\n    } else {\n      _bindEvents()\n    }\n\n    // Clear and unbind on unmount\n    return async () => {\n      clearTimeout(tId.current)\n      _unbindEvents(true)\n      if (intermediateOnAction.cancel) intermediateOnAction.cancel()\n      if (crossTab) await manager.current.close()\n    }\n  }, [])\n\n  useEffect(() => {\n    const eventsWereBound = eventsBound.current\n    if (eventsWereBound) _unbindEvents()\n    if (eventsThrottle > 0) {\n      handleEvent.current = throttled(_handleEvent, eventsThrottle)\n    } else {\n      handleEvent.current = _handleEvent\n    }\n    if (eventsWereBound) _bindEvents()\n  }, [eventsThrottle])\n\n  useEffect(() => {\n    _timeout.current = timeout\n    if (!firstLoad.current && idle.current) {\n      reset()\n    }\n    firstLoad.current = false\n  }, [timeout])\n\n  return {\n    isIdle,\n    isLeader,\n    start,\n    pause,\n    reset,\n    resume,\n    getLastIdleTime,\n    getTotalIdleTime,\n    getLastActiveTime,\n    getTotalActiveTime,\n    getElapsedTime,\n    getRemainingTime\n  }\n}\n\n/**\n * Type checks for every property\n * @type {Object}\n * @private\n */\nuseIdleTimer.propTypes = {\n  /**\n   * Activity Timeout in milliseconds\n   * default: 1200000\n   * @type {number}\n   */\n  timeout: PropTypes.number,\n  /**\n   * DOM events to listen to\n   * default: see [default events](https://github.com/SupremeTechnopriest/react-idle-timer#default-events)\n   * @type {Array}\n   */\n  events: PropTypes.arrayOf(PropTypes.string),\n  /**\n   * Function to call when user is idle.\n   * default: () => {}\n   * @type {Function}\n   */\n  onIdle: PropTypes.func,\n  /**\n   * Function to call when user becomes active.\n   * default: () => {}\n   * @type {Function}\n   */\n  onActive: PropTypes.func,\n  /**\n   * Function to call on user actions.\n   * default: () => {}\n   * @type {Function}\n   */\n  onAction: PropTypes.func,\n  /**\n   * Debounce the onAction function by setting delay in milliseconds.\n   * default: 0\n   * @type {number}\n   */\n  debounce: PropTypes.number,\n  /**\n   * Throttle the onAction function by setting delay in milliseconds.\n   * default: 0\n   * @type {number}\n   */\n  throttle: PropTypes.number,\n  /**\n   * Throttle the event handler function by setting delay in milliseconds.\n   * default: 200\n   * @type {number}\n   */\n  eventsThrottle: PropTypes.number,\n  /**\n   * Element reference to bind activity listeners to.\n   * default: document\n   * @type {Object}\n   */\n  element: PropTypes.oneOfType([PropTypes.object, PropTypes.element]),\n  /**\n   * Start the timer on mount.\n   * default: true\n   * @type {Boolean}\n   */\n  startOnMount: PropTypes.bool,\n  /**\n   * Require the timer to be started manually.\n   * default: false\n   * @type {Boolean}\n   */\n  startManually: PropTypes.bool,\n  /**\n   * Once the user goes idle the IdleTimer will not\n   * reset on user input instead, start() or reset() must be\n   * called manually to restart the timer.\n   * default: false\n   * @type {Boolean}\n   */\n  stopOnIdle: PropTypes.bool,\n  /**\n   * Bind events passively.\n   * default: true\n   * @type {Boolean}\n   */\n  passive: PropTypes.bool,\n  /**\n   * Capture events.\n   * default: true\n   * @type {Boolean}\n   */\n  capture: PropTypes.bool,\n  /**\n   * Cross Tab functionality.\n   * default: false\n   * @type {Boolean|Object}\n   */\n  crossTab: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.shape({\n      type: PropTypes.oneOf(['broadcastChannel', 'localStorage', 'simulate']),\n      channelName: PropTypes.string,\n      fallbackInterval: PropTypes.number,\n      responseTime: PropTypes.number,\n      removeTimeout: PropTypes.number,\n      emitOnAllTabs: PropTypes.bool\n    })\n  ])\n}\n\n/**\n * Sets default property values\n * @type {Object}\n * @private\n */\nuseIdleTimer.defaultProps = {\n  timeout: 1000 * 60 * 20,\n  element: DEFAULT_ELEMENT,\n  events: DEFAULT_EVENTS,\n  onIdle: () => { },\n  onActive: () => { },\n  onAction: () => { },\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: true,\n  startManually: false,\n  stopOnIdle: false,\n  capture: true,\n  passive: true,\n  crossTab: false\n}\n\nexport default useIdleTimer\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nexport default function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challange you to try to remove it!\n\n    return valuesArray[index];\n  };\n}","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}","import buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nimport buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n}; // Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\n\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toInteger from \"../toInteger/index.js\";\nimport getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import lightFormatters from \"../lightFormatters/index.js\";\nimport getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nexport default formatters;","function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}","import isValid from \"../isValid/index.js\";\nimport defaultLocale from \"../locale/en-US/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}"],"sourceRoot":""}