{"version":3,"sources":["stores/api/admin/actions.js","pages/Feature/JobBoard/components/tables/JobsTable/index.js","pages/Feature/JobBoard/index.js"],"names":["addPA","payload","resolve","reject","type","getUsers","user","getPAs","getJobs","getJobDetailForAdmin","assignPA","getAssignedJobs1","getAssignedJobs2","revokePA","activatePA","resetPassword","unassignPA","JobsTable","outParams","useTable","data","register","hasMore","appendData","setHasMore","setPage","page","params","setParams","resetData","dispatch","useDispatch","history","useHistory","fetchData","pageValue","paramsValue","page_id","results","isHasMore","prev","milestoneStep","row","index","milestones","findIndex","x","id","milestone_id","length","useEffect","className","onLoadMore","dataLength","Header","HeaderCell","Body","map","ind","BodyRow","BodyCell","formatDate","submitted_time","proposal_id","proposal_title","time_submit","formatPrice","grant","color","size","onClick","push","milestone_review_id","gotoAssign","JobsList","useState","placeholder","value","search","onChange","e","target","trim"],"mappings":"0GAAA,wZAAO,IAAMA,EAAQ,SAACC,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CACxEC,KAAM,SACNH,UACAC,UACAC,WAGWE,EAAW,SAACJ,EAASK,GAAV,IAAgBJ,EAAhB,uDAA0B,aAAUC,EAApC,uDAA6C,aAA7C,MAA2D,CACjFC,KAAM,YACNH,UACAK,OACAJ,UACAC,WAIWI,EAAS,SAACN,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CACzEC,KAAM,UACNH,UACAC,UACAC,WAGWK,EAAU,SAACP,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CAC1EC,KAAM,WACNH,UACAC,UACAC,WAGWM,EAAuB,SAACR,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CACvFC,KAAM,2BACNH,UACAC,UACAC,WAGWO,EAAW,SAACT,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CAC3EC,KAAM,YACNH,UACAC,UACAC,WAGWQ,EAAmB,SAACV,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CACnFC,KAAM,sBACNH,UACAC,UACAC,WAGWS,EAAmB,SAACX,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CACnFC,KAAM,sBACNH,UACAC,UACAC,WAGWU,EAAW,SAACZ,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CAC3EC,KAAM,YACNH,UACAC,UACAC,WAGWW,EAAa,SAACb,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CAC7EC,KAAM,cACNH,UACAC,UACAC,WAGWY,EAAgB,SAACd,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CAChFC,KAAM,iBACNH,UACAC,UACAC,WAGWa,EAAa,SAACf,GAAD,IAAUC,EAAV,uDAAoB,aAAUC,EAA9B,uDAAuC,aAAvC,MAAqD,CAC7EC,KAAM,cACNH,UACAC,UACAC,Y,iJC3EWc,EAAY,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAC1B,EAWIC,cAVFC,EADF,EACEA,KACAC,EAFF,EAEEA,SACAC,EAHF,EAGEA,QACAC,EAJF,EAIEA,WACAC,EALF,EAKEA,WACAC,EANF,EAMEA,QACAC,EAPF,EAOEA,KACAC,EARF,EAQEA,OACAC,EATF,EASEA,UACAC,EAVF,EAUEA,UAEIC,EAAWC,cACbC,EAAUC,cAGRC,EAAW,WAA6C,IAA5CC,EAA2C,uDAA/BT,EAAMU,EAAyB,uDAAXT,EAChDG,EACEtB,YAAQ,2BAAK4B,GAAN,IAAmBC,QAASF,KAAa,SAACG,EAASC,GACxDf,EAAWe,GACXhB,EAAWe,GACXb,GAAQ,SAAAe,GAAI,OAAIA,EAAO,UAKvBC,EAAgB,SAACC,GACrB,IAAMC,EAAQD,EAAIE,WAAWC,WAAU,SAAAC,GAAC,OAAIA,EAAEC,KAAOL,EAAIM,gBACzD,MAAM,GAAN,OAAUL,EAAQ,EAAlB,YAAuBD,EAAIE,WAAWK,SAmBxC,OAZAC,qBAAU,WACJhC,IACFU,EAAUV,GACVW,IACAK,EAAU,EAAGhB,MAEd,CAACA,IAEJgC,qBAAU,WACRhB,MACC,IAGD,eAAC,IAAD,2BACMb,GADN,IAEE8B,UAAU,oBACVC,WAAYlB,EACZZ,QAASA,EACT+B,WAAYjC,EAAK6B,OALnB,UAOE,eAAC,IAAMK,OAAP,WACE,cAAC,IAAMC,WAAP,UACE,iDAEF,cAAC,IAAMA,WAAP,UACE,yCAEF,cAAC,IAAMA,WAAP,UACE,kDAEF,cAAC,IAAMA,WAAP,UACE,iDAEF,cAAC,IAAMA,WAAP,UACE,8CAEF,cAAC,IAAMA,WAAP,UACE,yCAEF,cAAC,IAAMA,WAAP,UACE,6CAGJ,cAAC,IAAMC,KAAP,CAAYL,UAAU,kBAAtB,SACG/B,EAAKqC,KAAI,SAACf,EAAKgB,GAAN,OACR,eAAC,IAAMC,QAAP,WACE,cAAC,IAAMC,SAAP,UACE,4BAAIC,YAAWnB,EAAIoB,oBAErB,cAAC,IAAMF,SAAP,UACE,6CAEF,cAAC,IAAMA,SAAP,UACE,4BAAIlB,EAAIqB,gBAEV,cAAC,IAAMH,SAAP,UACE,4BAAIlB,EAAIsB,mBAEV,eAAC,IAAMJ,SAAP,WACE,4BAAInB,EAAcC,KAClB,4CAAeA,EAAIuB,kBAErB,cAAC,IAAML,SAAP,UACE,4BAAIM,YAAYxB,EAAIyB,WAEtB,cAAC,IAAMP,SAAP,UACE,cAAC,IAAD,CAAQQ,MAAM,UAAUC,KAAK,KAAKC,QAAS,kBAtEpC,SAAC5B,GAClBV,EAAQuC,KAAR,yBAA+B7B,EAAI8B,sBAqEwBC,CAAW/B,IAA5D,wBArBgBgB,aC9DfgB,UAvBE,WACf,MAA4BC,qBAA5B,mBAAOhD,EAAP,KAAeC,EAAf,KACA,OACE,eAAC,IAAD,CAAMuB,UAAU,wBAAhB,UACE,cAAC,IAAD,UACE,sBAAKA,UAAU,8BAAf,UACE,2CACA,uBACEA,UAAU,UACV/C,KAAK,OACLwE,YAAY,YACZC,MAAK,OAAElD,QAAF,IAAEA,OAAF,EAAEA,EAAQmD,OACfC,SAAU,SAAAC,GAAC,aAAIpD,EAAU,CAAEkD,QAAQ,UAAAE,EAAEC,OAAOJ,aAAT,eAAgBK,SAAU,eAInE,cAAC,IAAD,UACE,cAAC,EAAD,CAAWhE,UAAWS","file":"static/js/8.5a2f2757.chunk.js","sourcesContent":["export const addPA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'ADD_PA',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getUsers = (payload, user, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_USERS',\n  payload,\n  user,\n  resolve, \n  reject,\n});\n\n\nexport const getPAs = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_PAS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getJobs = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_JOBS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getJobDetailForAdmin = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_JOB_DETAIL_FOR_ADMIN',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const assignPA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'ASSIGN_PA',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getAssignedJobs1 = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_ASSIGNED_JOBS_1',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getAssignedJobs2 = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_ASSIGNED_JOBS_2',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const revokePA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'REVOKE_PA',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const activatePA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'ACTIVATE_PA',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const resetPassword = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'RESET_PASSWORD',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const unassignPA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'UNASSIGN_PA',\n  payload,\n  resolve, \n  reject,\n});","import { Table, useTable, Button } from '@shared/partials';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getJobs } from '../../../../../../stores/api/admin/actions';\nimport './style.scss';\nimport { formatDate, formatPrice } from '@shared/core/utils';\nimport { useHistory } from 'react-router';\n\nexport const JobsTable = ({ outParams }) => {\n  const {\n    data,\n    register,\n    hasMore,\n    appendData,\n    setHasMore,\n    setPage,\n    page,\n    params,\n    setParams,\n    resetData\n  } = useTable();\n  const dispatch = useDispatch();\n  let history = useHistory();\n\n  \n  const fetchData =(pageValue = page, paramsValue = params) => {\n    dispatch(\n      getJobs({ ...paramsValue, page_id: pageValue }, (results, isHasMore) => {\n        setHasMore(isHasMore);\n        appendData(results);\n        setPage(prev => prev + 1);\n      })\n    );\n  }\n\n  const milestoneStep = (row) => {\n    const index = row.milestones.findIndex(x => x.id === row.milestone_id);\n    return `${index + 1}/${row.milestones.length}`;\n  }\n\n  const gotoAssign = (row) => {\n    history.push(`/app/job-board/${row.milestone_review_id}`);\n  }\n\n  useEffect(() => {\n    if (outParams) {\n      setParams(outParams);\n      resetData();\n      fetchData(1, outParams);\n    }\n  }, [outParams]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <Table\n      {...register}\n      className=\"jobs-table h-full\"\n      onLoadMore={fetchData}\n      hasMore={hasMore}\n      dataLength={data.length}\n    >\n      <Table.Header>\n        <Table.HeaderCell>\n          <p>Date Submitted</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Status</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Proposal Number</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Proposal Title</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Milestone #</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Amount</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Actions</p>\n        </Table.HeaderCell>\n      </Table.Header>\n      <Table.Body className=\"padding-tracker\">\n        {data.map((row, ind) => (\n          <Table.BodyRow key={ind}>\n            <Table.BodyCell>\n              <p>{formatDate(row.submitted_time)}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>Unassigned</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{row.proposal_id}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{row.proposal_title}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{milestoneStep(row)}</p>\n              <p>Submission {row.time_submit}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{formatPrice(row.grant)}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <Button color=\"primary\" size=\"xs\" onClick={() => gotoAssign(row)}>Assign</Button>\n            </Table.BodyCell>\n          </Table.BodyRow>\n        ))}\n      </Table.Body>\n    </Table>\n  )\n}\n","import { Card, CardHeader, CardBody } from '@shared/partials';\nimport { useState } from 'react';\nimport { JobsTable } from './components/tables/JobsTable';\n\nconst JobsList = () => {\n  const [params, setParams] = useState();\n  return (\n    <Card className=\"h-full flex-1 min-h-0\">\n      <CardHeader>\n        <div className=\"w-full flex justify-between\">\n          <h2>Job Board</h2>\n          <input\n            className=\"text-xs\"\n            type=\"text\"\n            placeholder=\"Search...\"\n            value={params?.search}\n            onChange={e => setParams({ search: e.target.value?.trim() || null })}\n          />\n        </div>\n      </CardHeader>\n      <CardBody>\n        <JobsTable outParams={params}/>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default JobsList;"],"sourceRoot":""}